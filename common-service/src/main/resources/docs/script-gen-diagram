
Table "CHECKOUT_REQUEST" {
  "ID" INT [pk, increment]
  "ROOM_ID" INT [not null]
  "USER_ID" INT [not null]
  "REQUEST_DATE" DATE [not null]
  "STATUS" VARCHAR(50) [not null]
  "REASON" TEXT
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "CONTRACT" {
  "ID" INT [pk, increment]
  "ROOM_ID" INT [not null]
  "USER_ID" INT [not null]
  "START_DATE" DATE [not null]
  "END_DATE" DATE
  "DEPOSIT" DECIMAL(10,2) [not null]
  "MONTHLY_RENT" DECIMAL(10,2) [not null]
  "STATUS" VARCHAR(50) [not null]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "MAINTENANCE_FEE" {
  "ID" INT [pk, increment]
  "MAINTENANCE_REQUEST_ID" INT [not null]
  "PRICE" DECIMAL(10,2) [not null]
  "TOTAL_FEE" DECIMAL(10,2)
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "MAINTENANCE_REQUEST" {
  "ID" INT [pk, increment]
  "ROOM_ID" INT [not null]
  "SERVICE_ROOM_ID" INT [not null]
  "STATUS" VARCHAR(50) [not null]
  "REQUEST_DATE" DATE [not null]
  "DECISION" TEXT
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "SERVICE" {
  "ID" INT [pk, increment]
  "NAME" VARCHAR(100) [not null]
  "PRICE" DECIMAL(10,2) [not null]
  "IS_ACTIVE" TINYINT(1) [default: 1]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "SERVICE_ROOM" {
  "ID" INT [pk, increment]
  "ROOM_ID" INT [not null]
  "SERVICE_ID" INT [not null]
  "QUANTITY" INT [not null]
  "PRICE" DECIMAL(10,2) [not null]
  "IS_ACTIVE" TINYINT(1) [default: 1]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "ROOM" {
  "ID" INT [pk, increment]
  "NUMBER" VARCHAR(50) [not null]
  "PRICE" DECIMAL(10,2) [not null]
  "LENGTH" DECIMAL(5,2)
  "WIDTH" DECIMAL(5,2)
  "STATUS" VARCHAR(50) [not null]
  "NOTE" TEXT
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "USER" {
  "ID" INT [pk, increment]
  "FULLNAME" VARCHAR(100) [not null]
  "EMAIL" VARCHAR(100) [not null]
  "CCCD" VARCHAR(20) [not null]
  "PHONE_NUMBER" VARCHAR(20) [not null]
  "PERMANENT_ADDRESS" TEXT
  "DATE_OF_BIRTH" DATE
  "RECORDED_AT" DATE
  "LICENSE_PLATE_NUMBER" VARCHAR(20)
  "NOTE" TEXT
  "USERNAME" VARCHAR(50) [unique, not null]
  "PASSWORD" VARCHAR(255) [not null]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "ROLE" {
  "ID" INT [pk, increment]
  "NAME" VARCHAR(50) [not null]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "USER_ROLE" {
  "ID" INT [pk, increment]
  "USER_ID" INT [not null]
  "ROLE_ID" INT [not null]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "UTILITY_INDEX" {
  "ID" INT [pk, increment]
  "ROOM_ID" INT [not null]
  "ELECTRIC_OLD_INDEX" INT [not null]
  "ELECTRIC_NEW_INDEX" INT [not null]
  "ELECTRIC_USAGE" INT [not null]
  "ELECTRIC_RECORDED_AT" DATE [not null]
  "WATER_OLD_INDEX" INT [not null]
  "WATER_NEW_INDEX" INT [not null]
  "WATER_USAGE" INT [not null]
  "WATER_RECORDED_AT" DATE [not null]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "INVOICE" {
  "ID" INT [pk, increment]
  "USER_ID" INT [not null]
  "ROOM_ID" INT [not null]
  "NOTE" TEXT
  "TOTAL_PRICE" DECIMAL(10,2) [not null]
  "DUE_DATE" DATE [not null]
  "PAYMENT_DATE" DATE
  "STATUS" VARCHAR(50) [not null]
  "PAYMENT_ID" INT
  "INVOICE_DETAIL_ID" INT
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "ROOM_MEMBER" {
  "ID" INT [pk, increment]
  "CONTRACT_ID" INT [not null]
  "USER_ID" INT [not null]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Table "PAYMENT" {
  "ID" INT [pk, increment]
  "METHOD" VARCHAR(50) [not null]
  "STATUS" VARCHAR(50) [not null]
  "CREATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
  "UPDATED_AT" TIMESTAMP [default: `CURRENT_TIMESTAMP`]
}

Ref SERVICE_ROOM: SERVICE_ROOM.SERVICE_ID > SERVICE.ID
Ref SERVICE_ROOM: SERVICE_ROOM.ROOM_ID > ROOM.ID
Ref USER_ROLE: USER_ROLE.ROLE_ID > ROLE.ID
Ref USER_ROLE: USER_ROLE.USER_ID > USER.ID
Ref ROOM_MEMBER: ROOM_MEMBER.CONTRACT_ID > CONTRACT.ID
Ref ROOM_MEMBER: ROOM_MEMBER.USER_ID > USER.ID
Ref MAINTENANCE_REQUEST: MAINTENANCE_REQUEST.SERVICE_ROOM_ID > SERVICE_ROOM.ID
Ref CHECKOUT_REQUEST: CHECKOUT_REQUEST.ROOM_ID > ROOM.ID
Ref CHECKOUT_REQUEST: CHECKOUT_REQUEST.USER_ID > USER.ID
Ref CONTRACT: CONTRACT.USER_ID > USER.ID
Ref CONTRACT: CONTRACT.ROOM_ID > ROOM.ID
Ref MAINTENANCE_FEE: MAINTENANCE_FEE.MAINTENANCE_REQUEST_ID > MAINTENANCE_REQUEST.ID
Ref UTILITY_INDEX: UTILITY_INDEX.ROOM_ID > ROOM.ID
Ref INVOICE: INVOICE.PAYMENT_ID > PAYMENT.ID
Ref INVOICE: INVOICE.ROOM_ID > ROOM.ID